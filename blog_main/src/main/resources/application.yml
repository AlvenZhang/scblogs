server:
  port: 443
  servlet:
    context-path: /api/v1

mybatis-plus:
  global-config:
    db-config:
      id-type: auto  # 全局id增长策略
      # table-prefix: 全局表名前缀
  configuration:
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl  # 日志配置
    map-underscore-to-camel-case: true  # 配置驼峰命名自动映射
  mapper-locations: classpath*:mapper/*.xml  # 指定xml文件的路径
  type-aliases-package: cn.sticki.blog.pojo  # 实体对象的扫描包

spring:
#  application:
  #    name: @artifactId@
  #  cloud:
  #    nacos:
  #      server-addr: 127.0.0.1:8848 # nacos地址
  #  config:
  #    import:
  #      - nacos:blogmain-dev.yaml  # 对应nacos中的配置文件

  #  main:
  #    allow-circular-references: true
  mvc:
    throw-exception-if-no-handler-found: true  # 404时不跳转，直接抛出异常
  web:
    resources:
      add-mappings: false
  # 数据库
  datasource:
    druid:
      url: xxx
      username: xxx
      password: xxx
      driver-class-name: com.mysql.cj.jdbc.Driver
  devtools:
    restart:
      enabled: false  # 是否启用热部署
  #  redis相关
  #  redis:
  #    host: 127.0.0.1
  #    port: 6379
  #    database: 0
  #    client-type: lettuce

  # servlet文件传输限制
  servlet:
    multipart:
      max-file-size: 100MB
      max-request-size: 100MB
  # 邮箱相关
  mail:
    host: smtp.163.com
    username: xxx
    password: xxx
    port: 465
    default-encoding: UTF-8
    properties:
      mail:
        #        debug: true # 开启发送邮件debug模式
        smtp:
          socketFactory:
            class: javax.net.ssl.SSLSocketFactory
  jackson:
    date-format: yyyy-MM-dd HH:mm:ss #时间戳统一转换为指定格式
    time-zone: GMT+8 # 时区修改为东8 区

management:
  endpoint:
    health:
      show-details: always
    info:
      enabled: true
  endpoints:
    web:
      exposure:
        include: "*"
    enabled-by-default: true

info:
  #  appName: @project.artifactId@
  author: stick

#日志配置
logging:
  group:
    user: cn.sticki.blog
    security: org.springframework.security
  level:
    user: debug
#    security: debug

minio:
  url: xxx
  username: xxx
  password: xxx
  bucket-name: xxx

resource-path:
  default-avatar: default_avatar.jpg
  avatar: avatar/
  blog-cover-image: blogCover/
  blog-image: blog/
  blog-image-url-base: https://local.sticki.cn/api/v1/resource/blog-img/

security:
  # JWT配置
  jwt:
    # 密匙KEY
    key: xxx
    # token在http头中的命名
    header-name: "token"
    # 签名发放者
    issuer: "scblogs.cn"
    # 过期时间 单位秒 1天后过期=86400 7天后过期=604800
    expiration: 604800
    # 配置不需要认证的接口，中间不能加空格
    ant-matchers: /login/**,/blog/**,/resource/**,/user,/register/**,/comment/list

jetcache:
  statIntervalMinutes: 15
  areaInCacheName: false  # 设置不把areaName作为Key前缀
  remote:
    default:
      type: redis
      host: xxx
      port: xxx
      keyConvertor: fastjson
      valueEncoder: java
      valueDecoder: java
      expireAfterWriteInMillis: 15
      poolConfig:
        minIdle: 5
        maxIdle: 20
        maxTotal: 50
